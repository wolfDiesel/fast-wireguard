#!/bin/bash

# –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ git —Ö—É–∫–æ–≤ –¥–ª—è FastWG

echo "üîó –£—Å—Ç–∞–Ω–æ–≤–∫–∞ git —Ö—É–∫–æ–≤..."

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –≤ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
if [ ! -d ".git" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω .git –∫–∞—Ç–∞–ª–æ–≥. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è."
    exit 1
fi

# –î–µ–ª–∞–µ–º —Ö—É–∫ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x .git/hooks/pre-push

echo "‚úÖ Git —Ö—É–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!"
echo ""
echo "üìã –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º git push –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:"
echo "  - –ü—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è —Å—Ç–∏–ª—å –∫–æ–¥–∞ (flake8)"
echo "  - –ü—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (black)"
echo "  - –ü—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ (isort)"
echo "  - –ó–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Ç–µ—Å—Ç—ã"
echo ""
echo "üí° –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏: git push --no-verify"
